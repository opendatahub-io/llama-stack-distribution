# WARNING: This file is auto-generated. Do not modify it manually.
# Generated by: distribution/build.py
FROM registry.access.redhat.com/ubi9/python-312@sha256:95ec8d3ee9f875da011639213fd254256c29bc58861ac0b11f290a291fa04435
WORKDIR /opt/app-root
RUN pip install sqlalchemy # somehow sqlalchemy[asyncio] is not sufficient
RUN pip install --upgrade \
    'kfp-kubernetes==2.14.6' \
    'pyarrow>=21.0.0' \
    'botocore==1.35.88' \
    'boto3==1.35.88' \
    'aiobotocore==2.16.1' \
    'ibm-cos-sdk-core==2.14.2' \
    'ibm-cos-sdk==2.14.2'
RUN pip install --no-cache llama-stack==0.3.0
RUN mkdir -p ${HOME}/.llama ${HOME}/.cache
COPY distribution/run.yaml ${APP_ROOT}/run.yaml
ENTRYPOINT ["llama", "stack", "run", "/opt/app-root/run.yaml"]
